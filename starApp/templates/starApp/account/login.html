{% extends 'starApp/layouts/main.html' %}

{% load i18n %}
{% load account socialaccount %}

{% load static %}
{% block title %}
Login|TrumpKart
{% endblock title %}


{% block head_title %}{% trans "Sign In" %}{% endblock %}

{% block content %}
<div class="container-fluid pb-4 m-0 p-0" style="background-color: #021526;">
{% include 'starApp/inc/messages.html' %}
<div class="container-fluid d-flex justify-content-between mb-0 pb-0">
       
        <img class="float-start mt-1 playerLogo"  src="{% static 'images/favicon.png' %}" alt="logo" width="80px" >
        <div class="">
            <h2 class="fw-bolder text-center playerLogoText" style="text-shadow: 1px 1px 1px white !important; color: white; font-family: serif;">
               LOGIN
            </h2>
        <!-- <p class=" text-info text-center my-0 py-0 ">( {{ total_count }} song{{ total_count|pluralize }} )</p> -->
            
        </div>
        <div class="float-end" >
            <button type="button" class="btn btn-sm btn-outline-info m-1" onclick="history.back()" data-bs-toggle="tooltip" title="Back"><i class="bi bi-arrow-left fs-6 "></i></button>
            <a href="{% url 'home' %}"><button class="btn btn-sm btn-outline-info m-1" type="button" data-bs-toggle="tooltip" title="Home"><i class="bi bi-house fs-6 "></i></button></a>      
        </div>

    </div>
<div class="container col-10 col-sm-10 col-md-6 col-lg-4 p-3 my-3 login rounded-3" style="background-color: #00B7B5;">
  
  <section class="container my-2 ">
     
                  <form method="POST" action="">
                   {% csrf_token %}
                   <div class="mb-2">
                      <label for="" class="form-label text-white fw-bolder fs-5" style="font-family: serif;">Username</label>
                      <input type="text" name="username" id="username" class="form-control" placeholder="Enter your Username" required>
                      
                     </div>
  
                    <div class="mb-2">
                     <label for="" class="form-label text-white fw-bolder fs-5" style="font-family: serif;">Password</label>
                     <div class="input-group">
                       <input type="password" name="password" id="password" class="form-control" placeholder="Enter your Password" required>
                       <button class="btn btn-outline-white bg-white" type="button" id="togglePassword" style="border-left: none;">
                         <i class="bi bi-eye text-black fs-6" id="eyeIcon"></i>
                       </button>
                     </div>
                 </div>
                 <button type="submit" class="btn btn-primary text-light fw-bold rounded-2 mb-2" style="font-family: serif;">LOGIN</button><br>

                  <a class="text-danger fw-bolder text-decoration-none" href="{% url 'account_reset_password' %}"><button class="btn btn-outline-danger fw-bolder">{% trans "Forgot Password" %}</button></a> <br>
                  <p class="small" style="font-family: serif;">
                      Create New Account :
                      <a href="{% url 'account_signup' %}" ><b class="text-white fw-bolder fs-6"> SIGN UP</b> </a>
                  </p>
                  </form>
                 
  
  </section>
  
  


  <div class="login-or my-3  text-center mb-2">{% trans 'OR' %}</div>

  <div class="text-center">
    <div class="socialaccount_providers">
      {% include "starApp/socialaccount/snippets/provider_list.html" with process="login" %}
    </div>

    {% get_providers as socialaccount_providers %}

    {% if socialaccount_providers %}
    <p class="m-0 small" style="font-family: serif;">Please sign in with one
    of your existing third party accounts.</p>

    <div class="socialaccount_ballot">
    </div>

    {% else %}
    <p style="font-family: serif;">If you have not created an account yet, then please
    <a href="{% url 'account_signup' %}" class="text-decoration-none fw-bolder text-white">sign up</a> first.</p>
    {% endif %}
  </div>
  

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</div>


  </div>
  {% include 'starApp/inc/footer.html' %}
{% endblock %}
{% block scripts %}
<script>
  // Password visibility toggle
  document.getElementById('togglePassword').addEventListener('click', function() {
    const passwordField = document.getElementById('password');
    const eyeIcon = document.getElementById('eyeIcon');
    
    if (passwordField.type === 'password') {
      passwordField.type = 'text';
      eyeIcon.classList.remove('bi-eye');
      eyeIcon.classList.add('bi-eye-slash');
    } else {
      passwordField.type = 'password';
      eyeIcon.classList.remove('bi-eye-slash');
      eyeIcon.classList.add('bi-eye');
    }
  });
</script>
{% endblock scripts %}